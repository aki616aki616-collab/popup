<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KABAG POPUP STORE ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Noto Sans JP','Hiragino Sans','Yu Gothic',sans-serif; background: #fff; }
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState } = React;

const FIXED_STAFF = ["æ—", "æ­¸å±±", "ä¼Šè—¤", "é‡‘æœ¬", "è¾»å·", "å±±å", "é‡æ¾¤"];
const INITIAL_CUSTOM = ["ã‚¹ã‚¿ãƒƒãƒ•ï¼‘", "ã‚¹ã‚¿ãƒƒãƒ•ï¼’", "ã‚¹ã‚¿ãƒƒãƒ•ï¼“", "ã‚¹ã‚¿ãƒƒãƒ•ï¼”", "ã‚¹ã‚¿ãƒƒãƒ•ï¼•"];

const STAFF_COLORS = {
  "æ—": "#2563eb", "æ­¸å±±": "#dc2626", "ä¼Šè—¤": "#059669", "é‡‘æœ¬": "#d97706",
  "è¾»å·": "#7c3aed", "å±±å": "#0891b2", "é‡æ¾¤": "#be185d",
};
const CUSTOM_COLORS = ["#64748b", "#78716c", "#57534e", "#475569", "#6b7280"];

function getColor(name, customStaff) {
  if (STAFF_COLORS[name]) return STAFF_COLORS[name];
  const idx = customStaff.indexOf(name);
  return idx >= 0 ? CUSTOM_COLORS[idx] : "#888";
}

const SCHEDULE = [
  {
    date: "3/10", dow: "æœˆ", label: "å‰æ—¥è¨­å–¶", type: "setup",
    slots: [
      { time: "æ—¥ä¸­", task: "è·ç‰©æ¬å…¥ï¼ˆ3/10ç€ã§ç™ºé€ï¼‰", note: "å°è»Šåˆ©ç”¨å¯ãƒ»å¾¡å ‚ç­‹å´ã«åœè»Šã—ã¦æ¬å…¥", staff: [] },
      { time: "ã€œ19:00", task: "å‰å‡ºåº—è€… é–‰åº—ãƒ»ç‰‡ä»˜ã‘", note: "å‰ã®å‡ºåº—è€…ãŒæ’¤å»å®Œäº†ã™ã‚‹ã¾ã§å¾…æ©Ÿ", staff: [] },
      { time: "20:00ã€œ23:00", task: "é™³åˆ—ãƒ»è¨­å–¶ä½œæ¥­", note: "â˜…ä½œæ¥­å±Š æå‡ºå¿…è¦ï½œãƒ¬ã‚¸ã‚»ãƒƒãƒˆãƒ»é‡£éŠ­(5ä¸‡å††)æº–å‚™", staff: [] },
    ],
  },
  {
    date: "3/11", dow: "ç«", label: "1æ—¥ç›®", type: "event",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "ãƒ¬ã‚¸ç¢ºèªãƒ»é‡£éŠ­ã‚»ãƒƒãƒˆãƒ»é™³åˆ—æœ€çµ‚ãƒã‚§ãƒƒã‚¯", staff: [] },
      { time: "10:00ã€œ20:00", task: "å–¶æ¥­", note: "åˆæ—¥ï¼šã‚¹ã‚¿ãƒƒãƒ•ãŒãƒ¬ã‚¸ç· ã‚ä½œæ¥­ã‚’æ¡ˆå†…", staff: [] },
      { time: "20:00ã€œ", task: "ãƒ¬ã‚¸ç· ã‚ãƒ»å…¥é‡‘", note: "3Få…¥é‡‘æ©Ÿã§ç¾é‡‘å…¥é‡‘â†’é‡£éŠ­ã‚’5ä¸‡å††ã«æˆ»ã™", staff: [] },
    ],
  },
  {
    date: "3/12", dow: "æ°´", label: "2æ—¥ç›®", type: "event",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "", staff: [] },
      { time: "10:00ã€œ20:00", task: "å–¶æ¥­", note: "", staff: [] },
      { time: "20:00ã€œ", task: "ãƒ¬ã‚¸ç· ã‚ãƒ»å…¥é‡‘", note: "", staff: [] },
    ],
  },
  {
    date: "3/13", dow: "æœ¨", label: "3æ—¥ç›®", type: "event",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "", staff: [] },
      { time: "10:00ã€œ20:00", task: "å–¶æ¥­", note: "", staff: [] },
      { time: "20:00ã€œ", task: "ãƒ¬ã‚¸ç· ã‚ãƒ»å…¥é‡‘", note: "", staff: [] },
    ],
  },
  {
    date: "3/14", dow: "é‡‘", label: "4æ—¥ç›®", type: "event",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "", staff: [] },
      { time: "10:00ã€œ20:00", task: "å–¶æ¥­", note: "", staff: [] },
      { time: "20:00ã€œ", task: "ãƒ¬ã‚¸ç· ã‚ãƒ»å…¥é‡‘", note: "", staff: [] },
    ],
  },
  {
    date: "3/15", dow: "åœŸ", label: "5æ—¥ç›® â˜…é€±æœ«", type: "weekend",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "", staff: [] },
      { time: "10:00ã€œ20:00", task: "å–¶æ¥­", note: "â˜…åœŸæ›œï¼šæ¥å®¢å¤šã„è¦‹è¾¼ã¿", staff: [] },
      { time: "20:00ã€œ", task: "ãƒ¬ã‚¸ç· ã‚ãƒ»å…¥é‡‘", note: "", staff: [] },
    ],
  },
  {
    date: "3/16", dow: "æ—¥", label: "6æ—¥ç›® â˜…é€±æœ«", type: "weekend",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "", staff: [] },
      { time: "10:00ã€œ20:00", task: "å–¶æ¥­", note: "â˜…æ—¥æ›œï¼šã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚¿ãƒ¼å‰ äººé€šã‚Šå¤šã„", staff: [] },
      { time: "20:00ã€œ", task: "ãƒ¬ã‚¸ç· ã‚ãƒ»å…¥é‡‘", note: "", staff: [] },
    ],
  },
  {
    date: "3/17", dow: "æœˆ", label: "æœ€çµ‚æ—¥ï¼‹æ’¤å»", type: "teardown",
    slots: [
      { time: "9:00", task: "å…¥åº—ãƒ»é–‹åº—æº–å‚™", note: "", staff: [] },
      { time: "10:00ã€œ19:00", task: "å–¶æ¥­ï¼ˆæ—©ã‚ã«é–‰åº—å¯ï¼‰", note: "å®¢è¶³è¦‹ã¦ãƒ¬ã‚¸ç· ã‚ã‚¿ã‚¤ãƒŸãƒ³ã‚°åˆ¤æ–­", staff: [] },
      { time: "19:00ã€œ23:00", task: "æ’¤å»ãƒ»æ¬å‡º", note: "â˜…ä½œæ¥­å±Š æå‡ºå¿…è¦ï½œ23æ™‚ã¾ã§ã«å®Œå…¨é€€é¤¨", staff: [] },
    ],
  },
];

const TYPE_STYLES = {
  setup:    { border: "#ef4444", bg: "#fef2f2", badge: "#ef4444" },
  event:    { border: "#3b82f6", bg: "#f8faff", badge: "#3b82f6" },
  weekend:  { border: "#a855f7", bg: "#faf5ff", badge: "#a855f7" },
  teardown: { border: "#f59e0b", bg: "#fffbeb", badge: "#f59e0b" },
};

function App() {
  const [schedule, setSchedule] = useState(SCHEDULE);
  const [customStaff, setCustomStaff] = useState(INITIAL_CUSTOM);

  const allStaff = [...FIXED_STAFF, ...customStaff];

  function updateCustomName(idx, newName) {
    const oldName = customStaff[idx];
    setCustomStaff(prev => { const n = [...prev]; n[idx] = newName; return n; });
    setSchedule(prev => {
      const ns = JSON.parse(JSON.stringify(prev));
      ns.forEach(d => d.slots.forEach(s => { s.staff = s.staff.map(n => n === oldName ? newName : n); }));
      return ns;
    });
  }

  function addStaff(dayIdx, slotIdx, name) {
    if (!name) return;
    setSchedule(prev => {
      const n = JSON.parse(JSON.stringify(prev));
      if (!n[dayIdx].slots[slotIdx].staff.includes(name)) n[dayIdx].slots[slotIdx].staff.push(name);
      return n;
    });
  }

  function removeStaff(dayIdx, slotIdx, name) {
    setSchedule(prev => {
      const n = JSON.parse(JSON.stringify(prev));
      n[dayIdx].slots[slotIdx].staff = n[dayIdx].slots[slotIdx].staff.filter(s => s !== name);
      return n;
    });
  }

  return (
    <div style={{
      background: "#fff", minHeight: "100vh", padding: "16px 10px", color: "#1a1a1a",
      maxWidth: 620, margin: "0 auto",
    }}>
      <div style={{ textAlign: "center", marginBottom: 16, paddingBottom: 12, borderBottom: "2px solid #ddd" }}>
        <div style={{ display: "inline-block", background: "#111", color: "#fff", padding: "2px 14px", borderRadius: 4, fontSize: 10, fontWeight: 700, letterSpacing: 2, marginBottom: 4 }}>KABAG POPUP STORE</div>
        <h1 style={{ fontSize: 19, fontWeight: 800, margin: "4px 0 2px" }}>ä¸¸äº• å‡ºå±•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h1>
        <p style={{ color: "#888", fontSize: 12, margin: 0 }}>2025å¹´3æœˆ10æ—¥ï¼ˆè¨­å–¶ï¼‰ã€œ 3æœˆ17æ—¥ï¼ˆæ’¤å»ï¼‰</p>
      </div>

      <div style={{ background: "#fffde7", border: "1px solid #fde68a", borderRadius: 8, padding: "10px 12px", marginBottom: 14 }}>
        <div style={{ fontSize: 12, fontWeight: 700, color: "#92400e", marginBottom: 6 }}>ğŸ“Œ é‡è¦äº‹é …</div>
        {[
          ["ğŸ“¦","è·ç‰©ã¯3/10ç€ãƒ»å…ƒæ‰•ã„ã§ç™ºé€ï¼ˆç€æ‰•ã„ä¸å¯ï¼‰"],
          ["ğŸš—","é§è»Šå ´ 8:30ã€œ21:30 â€»è‡ªå®¶ç”¨è»Šã¯ç”³è«‹å¿…è¦"],
          ["ğŸ’°","é‡£éŠ­5ä¸‡å††ã‚’æº–å‚™ï¼ˆ3Fä¸¡æ›¿æ©Ÿã‚ã‚Šãƒ»ç·‘ã‚«ãƒ¼ãƒ‰å¿…è¦ï¼‰"],
          ["ğŸ“‹","ä½œæ¥­å±Šï¼šè¨­å–¶(3/10)ï¼‹æ’¤å»(3/17)ã®è¨ˆ2æšæå‡º"],
          ["ğŸ§¾","ãƒ¬ã‚¸ï¼šSteraã‚’ä½¿ç”¨ï¼ˆå‹•ç”»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚ã‚Šï¼‰"],
          ["ğŸ›","ã‚·ãƒ§ãƒƒãƒ‘ãƒ¼ï¼šæŒè¾¼ã¿ï½œå…ç¨ï¼šå¯¾è±¡å¤–"],
        ].map(([ic, tx], i) => (
          <div key={i} style={{ display: "flex", gap: 6, fontSize: 12, color: "#78350f", marginBottom: 2 }}>
            <span>{ic}</span><span>{tx}</span>
          </div>
        ))}
      </div>

      <div style={{ background: "#f9fafb", border: "1px solid #e5e7eb", borderRadius: 8, padding: "8px 12px", marginBottom: 16 }}>
        <div style={{ fontSize: 11, fontWeight: 700, color: "#999", marginBottom: 5 }}>âœï¸ ã‚¹ã‚¿ãƒƒãƒ•åã‚’ç·¨é›†ï¼ˆã‚¿ãƒƒãƒ—ã§å¤‰æ›´å¯ï¼‰</div>
        <div style={{ display: "flex", flexWrap: "wrap", gap: 5 }}>
          {customStaff.map((name, idx) => (
            <input key={idx} value={name} onChange={e => updateCustomName(idx, e.target.value)}
              style={{ width: 90, padding: "3px 6px", borderRadius: 5, border: "1px solid #ccc", fontSize: 12, textAlign: "center", background: "#fff" }} />
          ))}
        </div>
      </div>

      <div style={{ display: "flex", flexDirection: "column", gap: 12 }}>
        {schedule.map((day, dayIdx) => {
          const ts = TYPE_STYLES[day.type];
          return (
            <div key={dayIdx} style={{ border: "2px solid "+ts.border, borderRadius: 10, overflow: "hidden" }}>
              <div style={{ background: ts.badge, color: "#fff", padding: "8px 12px", display: "flex", alignItems: "center", gap: 10 }}>
                <div style={{ fontSize: 20, fontWeight: 900, minWidth: 48 }}>{day.date}</div>
                <div>
                  <span style={{ fontSize: 10, background: "rgba(255,255,255,0.25)", padding: "1px 7px", borderRadius: 3, fontWeight: 600, marginRight: 6 }}>{day.dow}</span>
                  <span style={{ fontSize: 13, fontWeight: 700 }}>{day.label}</span>
                </div>
              </div>
              <div style={{ background: ts.bg, padding: "6px 10px" }}>
                {day.slots.map((slot, slotIdx) => (
                  <div key={slotIdx} style={{ padding: "7px 0", borderBottom: slotIdx < day.slots.length - 1 ? "1px solid rgba(0,0,0,0.06)" : "none" }}>
                    <div style={{ display: "flex", gap: 8, alignItems: "flex-start" }}>
                      <div style={{ fontSize: 11, fontWeight: 700, color: ts.badge, minWidth: 85, flexShrink: 0, paddingTop: 1 }}>{slot.time}</div>
                      <div style={{ flex: 1, minWidth: 0 }}>
                        <div style={{ fontSize: 13, fontWeight: 600, color: "#222" }}>{slot.task}</div>
                        {slot.note && <div style={{ fontSize: 10, color: "#999", marginTop: 1 }}>{slot.note}</div>}
                        <div style={{ display: "flex", gap: 4, flexWrap: "wrap", alignItems: "center", marginTop: 4 }}>
                          {slot.staff.map(s => (
                            <span key={s} onClick={() => removeStaff(dayIdx, slotIdx, s)} title="ã‚¿ãƒƒãƒ—ã§å‰Šé™¤"
                              style={{ display: "inline-flex", alignItems: "center", gap: 2, padding: "1px 9px", borderRadius: 12, background: getColor(s, customStaff), color: "#fff", fontSize: 11, fontWeight: 600, cursor: "pointer", whiteSpace: "nowrap" }}>
                              {s} âœ•
                            </span>
                          ))}
                          <select value="" onChange={e => { addStaff(dayIdx, slotIdx, e.target.value); }}
                            style={{ fontSize: 11, padding: "2px 4px", borderRadius: 5, border: "1px solid #ccc", background: "#fff", color: "#666", cursor: "pointer" }}>
                            <option value="">ï¼‹æ‹…å½“è€…</option>
                            {allStaff.filter(s => !slot.staff.includes(s)).map(s => (
                              <option key={s} value={s}>{s}</option>
                            ))}
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          );
        })}
      </div>

      <div style={{ marginTop: 16, padding: "12px", background: "#f3f4f6", borderRadius: 8, border: "1px solid #e5e7eb" }}>
        <div style={{ fontSize: 11, fontWeight: 700, color: "#999", marginBottom: 6 }}>â° åŸºæœ¬ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</div>
        <div style={{ display: "grid", gridTemplateColumns: "auto 1fr", gap: "2px 12px", fontSize: 12 }}>
          {[["8:30","æœ€æ—©å…¥é¤¨ï¼ˆç”³è«‹æ™‚ã®ã¿ï¼‰"],["9:00","å…¥åº—å¯èƒ½"],["10:00","é–‹åº—"],["20:00","é–‰åº—ï¼ˆæœ€çµ‚æ—¥ã¯19:00ç›®å®‰ï¼‰"],["20:00ã€œ","ãƒ¬ã‚¸ç· ã‚ â†’ 3Få…¥é‡‘æ©Ÿã§å…¥é‡‘"],["23:00","æœ€çµ‚é€€é¤¨"]].map(([t,d],i) => (
            <React.Fragment key={i}>
              <span style={{ color: "#2563eb", fontWeight: 700 }}>{t}</span>
              <span style={{ color: "#666" }}>{d}</span>
            </React.Fragment>
          ))}
        </div>
      </div>

      <div style={{ textAlign: "center", marginTop: 12, fontSize: 10, color: "#bbb" }}>
        â€» ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã§æ‹…å½“è€…ã‚’è¿½åŠ  ï¼ ãƒãƒƒã‚¸ã‚’ã‚¿ãƒƒãƒ—ã§å‰Šé™¤
      </div>
    </div>
  );
}

ReactDOM.render(<App />, document.getElementById("root"));
</script>
</body>
</html>
